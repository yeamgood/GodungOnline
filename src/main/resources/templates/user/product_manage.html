<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- Meta, title, CSS, favicons, etc. -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Godung Online</title>
<link rel="icon" type="image/gif" th:href="@{/images/logo_box.png}" />

<!-- Bootstrap -->
<link th:href="@{/vendors/bootstrap/dist/css/bootstrap.min.css}" rel="stylesheet">
<!-- Font Awesome -->
<link th:href="@{/vendors/font-awesome/css/font-awesome.min.css}" rel="stylesheet">
<!-- NProgress -->
<link th:href="@{/vendors/nprogress/nprogress.css}" rel="stylesheet">
<!-- iCheck -->
<link th:href="@{/vendors/iCheck/skins/flat/green.css}" rel="stylesheet">
<!-- bootstrap-date range picker -->
<link th:href="@{/vendors/bootstrap-daterangepicker/daterangepicker.css}" rel="stylesheet">
<!-- bootstrap-date time picker -->
<link th:href="@{/vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css}" rel="stylesheet">
<!-- Datatables -->
<link th:href="@{/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css}" rel="stylesheet">
<!-- PNotify -->
<link type="text/css" th:href="@{/vendors/pnotify/dist/pnotify.css}" rel="stylesheet">
<link type="text/css" th:href="@{/vendors/pnotify/dist/pnotify.buttons.css}" rel="stylesheet">
<link type="text/css" th:href="@{/vendors/pnotify/dist/pnotify.nonblock.css}" rel="stylesheet">
<!-- Select2 -->
<link type="text/css" th:href="@{/vendors/select2/dist/css/select2.min.css}" rel="stylesheet">
<!-- Custom Theme Style -->
<link th:href="@{/build/css/custom.min.css}" rel="stylesheet">
<!-- Main Theme Style -->
<link type="text/css" th:href="@{/css/main.css}" rel="stylesheet">

</head>

<body class="nav-md">
	<div class="container body">
		<div class="main_container">

			<!-- menu -->
			<div th:replace="fragments/menu:: menu"></div>
			<!-- /menu -->

			<!-- header -->
			<div th:replace="fragments/header:: header"></div>
			<!-- /header -->

			<!-- page content -->
			<div class="right_col" role="main">
				<form id="form" autocomplete="off" th:action="@{/user/product/manage}" th:object="${product}" method="post" class="form-horizontal" role="form"
					data-parsley-validate>
					<div class="">

						<div class="col-md-12 col-sm-12 col-xs-12 x_panel search-head">
							<div class="title_left">
								<div class="col-md-6">
									<h2>
										<i th:class="${menu.icon}"></i> <span th:text="#{${menu.code}}"></span>
									</h2>
								</div>
							</div>
							<div class="title_right">
								<div class="form-group pull-right title_right_button">
									<a id="bt_delete" type="button" class="btn btn-primary" th:href="@{/user/product}"> <i class="fa fa-reply"></i> <span class="span_white"
										th:text="#{bt.text.back}"></span>
									</a>
									<button id="bt_delete" type="button" class="btn btn-danger" onclick="openModalMainDelete();"
										th:if="*{productIdEncrypt} != null and *{productIdEncrypt} != '' ">
										<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
									</button>
									<button id="bt_save" type="submit" class="btn btn-success">
										<i class="fa fa-save"></i> <span class="span_white" th:text="#{bt.text.save}"></span>
									</button>
								</div>
							</div>
						</div>

						<div class="clearfix"></div>
						<div class="row">
							<div class="col-md-12 col-sm-12 col-xs-12">
								<div class="x_panel">
									<div class="x_title x_title_edit">
										<h2>
											<i class="fa fa-info-circle"></i> <span class="title_left_text" th:text="#{form.product.profile.main}"></span>
										</h2>
										<div class="clearfix"></div>
									</div>
									<div class="x_content">
										<div class="col-md-6 col-sm-6 col-xs-12">
											<input type="hidden" th:field="*{productIdEncrypt}">
											<div class="form-group">
												<div class="control-label col-md-4 col-sm-4 col-xs-12">
													<label th:text="#{form.product.label.code}"></label>
												</div>
												<div class="col-md-8 col-sm-8 col-xs-12">
													<input type="text" class="form-control" readonly="readonly" th:placeholder="#{label.generate.auto}" th:field="*{productCode}"> <label
														th:if="${#fields.hasErrors('productCode')}" th:errors="*{productCode}" class="validation-message"></label>
												</div>
											</div>
											<div class="form-group">

												<div class="control-label col-md-4 col-sm-4 col-xs-12">
													<label th:text="#{form.product.label.name}"></label> <label class="validation-message" th:text="#{label.request}"></label>
												</div>
												<div class="col-md-8 col-sm-8 col-xs-12">
													<input type="text" class="form-control" th:field="*{productName}"> <label th:if="${#fields.hasErrors('productName')}"
														th:errors="*{productName}" class="validation-message"></label>
												</div>
											</div>
											<div class="form-group">
												<div class="control-label col-md-4 col-sm-4 col-xs-12">
													<label th:text="#{form.product.label.description}"></label>
												</div>
												<div class="col-md-8 col-sm-8 col-xs-12">
													<textarea class="form-control" rows="3" th:field="*{description}"></textarea>
													<label th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="validation-message"></label>
												</div>
											</div>
										</div>
										<div class="col-md-6 col-sm-6 col-xs-12">
											<div class="form-group">
												<div class="control-label col-md-4 col-sm-4 col-xs-12">
													<label th:text="#{form.product.label.brand}"></label>
												</div>
												<div class="col-md-8 col-sm-8 col-xs-12">
													<select id="brandDropdown" th:field="*{brand.brandIdEncrypt}" style="width: 100%">
														<option value=" " th:text="#{dropdown.text.select}"></option>
														<option th:each="obj:${brandDropdown}" th:value="${obj.brandIdEncrypt}" th:text="${obj.brandName}"></option>
													</select>
												</div>
											</div>
											<div class="form-group">
												<div class="control-label col-md-4 col-sm-4 col-xs-12">
													<label th:text="#{form.product.label.measure}"></label>
												</div>
												<div class="col-md-8 col-sm-8 col-xs-12">
													<select id="measureDropdown" th:field="*{measure.measureIdEncrypt}" style="width: 100%">
														<option value=" " th:text="#{dropdown.text.select}"></option>
														<option th:each="obj:${measureDropdown}" th:value="${obj.measureIdEncrypt}" th:text="${obj.measureName}"></option>
													</select>
												</div>
											</div>
											<div class="form-group">
												<div class="control-label col-md-4 col-sm-4 col-xs-12">
													<label th:text="#{form.product.label.category}"></label>
												</div>
												<div class="col-md-8 col-sm-8 col-xs-12">
													<select id="categoryDropdown" th:field="*{category.categoryIdEncrypt}" style="width: 100%">
														<option value=" " th:text="#{dropdown.text.select}"></option>
														<option th:each="obj:${categoryDropdown}" th:value="${obj.categoryIdEncrypt}" th:text="${obj.categoryName}"></option>
													</select>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="col-md-12 col-sm-12 col-xs-12">
								<div class="x_panel">
									<div class="x_title">
										<div class="col-md-6 col-sm-6 col-xs-6 title_left_box x_title_edit">
											<h2 class="table-small-header">
												<i th:class="#{form.sale.icon}"></i> <span th:text="#{form.sale.header}"></span>
											</h2>
										</div>
										<div class="col-md-6 col-sm-6 col-xs-6 title_box">
											<div class="pull-right">
												<div class="btn-group" th:if="*{productIdEncrypt} != null and *{productIdEncrypt} != '' ">
													<button class="btn btn-primary dropdown-toggle" type="button" onclick="openPriceNewModal();">
														<i class="fa fa-pencil-square-o"></i> <span class="span_white" th:text="#{bt.text.add}"></span>
													</button>
												</div>
											</div>
										</div>
										<div class="clearfix"></div>
									</div>
									<div class="x_content">
										<table id="sale_datatables" class="table  table-bordered table-small" style="width: 100%">
											<thead class="search-content-header">
												<tr>
													<th th:text="#{datatables.text.no}"></th>
													<th th:text="#{form.sale.label.startdate}"></th>
													<th th:text="#{form.sale.label.enddate}"></th>
													<th th:text="#{form.sale.label.currencytype}"></th>
													<th th:text="#{form.sale.label.price}"></th>
													<th th:text="#{form.sale.label.measure}"></th>
													<th th:text="#{datatables.text.action}"></th>
												</tr>
											</thead>
										</table>
									</div>
								</div>
							</div>

							<div class="col-md-12 col-sm-12 col-xs-12">
								<div class="x_panel">
									<div class="x_title">
										<div class="col-md-6 col-sm-6 col-xs-6 title_left_box x_title_edit">
											<h2 class="table-small-header">
												<i th:class="#{form.dealer.icon}"></i> <span th:text="#{form.dealer.header}"></span>
											</h2>
										</div>
										<div class="col-md-6 col-sm-6 col-xs-6 title_box">
											<div class="pull-right">
												<div class="btn-group" th:if="*{productIdEncrypt} != null and *{productIdEncrypt} != '' ">
													<button class="btn btn-primary dropdown-toggle" type="button" onclick="openDealerNewModal();">
														<i class="fa fa-pencil-square-o"></i> <span class="span_white" th:text="#{bt.text.add}"></span>
													</button>
												</div>
											</div>
										</div>
										<div class="clearfix"></div>
									</div>
									<div class="x_content">
										<table id="dealer_datatables" class="table  table-bordered table-small" style="width: 100%">
											<thead class="search-content-header">
												<tr>
													<th th:text="#{datatables.text.no}"></th>
													<th th:text="#{form.dealer.label.supplier}"></th>
													<th th:text="#{form.dealer.label.startdate}"></th>
													<th th:text="#{form.dealer.label.enddate}"></th>
													<th th:text="#{form.dealer.label.currency}"></th>
													<th th:text="#{form.dealer.label.price}"></th>
													<th th:text="#{form.dealer.label.measure}"></th>
													<th th:text="#{datatables.text.action}"></th>
												</tr>
											</thead>
										</table>
									</div>
								</div>
							</div>

							<div class="col-md-12 col-sm-12 col-xs-12">
								<div class="x_panel">
									<div class="x_title">
										<div class="col-md-6 col-sm-6 col-xs-6 title_left_box x_title_edit">
											<h2 class="table-small-header">
												<i th:class="#{form.stock.icon}"></i> <span th:text="#{form.stock.header}"></span>
											</h2>
										</div>
										<div class="col-md-6 col-sm-6 col-xs-6 title_box">
											<div class="pull-right">
												<div class="btn-group" th:if="*{productIdEncrypt} != null and *{productIdEncrypt} != '' ">
													<button class="btn btn-primary dropdown-toggle" type="button" onclick="openStockNewModal();">
														<i class="fa fa-pencil-square-o"></i> <span class="span_white" th:text="#{bt.text.add}"></span>
													</button>
												</div>
											</div>
										</div>
										<div class="clearfix"></div>
									</div>
									<div class="x_content">
										<table id="stock_datatables" class="table  table-bordered table-small" style="width: 100%">
											<thead class="search-content-header">
												<tr>
													<th th:text="#{datatables.text.no}"></th>
													<th th:text="#{form.stock.label.warehouse}"></th>
													<th th:text="#{form.stock.label.location}"></th>
													<th th:text="#{form.stock.label.remind}"></th>
													<th th:text="#{form.stock.label.remain}"></th>
													<th th:text="#{datatables.text.action}"></th>
												</tr>
											</thead>
										</table>
									</div>
								</div>
							</div>

						</div>
					</div>
				</form>
			</div>
			<!-- /page content -->

			<div id="modal_delete" class="modal fade " tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog ">
					<div class="modal-content">

						<form autocomplete="off" method="post" id="deleteForm" data-parsley-validate class="form-horizontal form-label-left"
							th:action="@{/user/product/manage/delete}">
							<div class="modal-header modal-delete-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">×</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">
									<i class="fa fa-trash"></i> <span th:text="#{label.delete.head.confirm}"></span>
								</h4>
							</div>
							<div class="modal-body">
								<input type="hidden" id="delete_id" name="productIdEncrypt" /> <span id="modal_delete_content"></span>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">
									<i class="fa fa-close"></i> <span th:text="#{bt.text.close}"></span>
								</button>
								<button type="submit" class="btn btn-danger">
									<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
								</button>
							</div>
						</form>

					</div>
				</div>
			</div>



			<!-- Sale -->
			<div id="modal_sale" class="modal fade " tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog ">
					<div class="modal-content">

						<div class="modal-header modal-custom-header">
							<button type="button" class="close" data-dismiss="modal">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title">
								<i th:class="#{form.sale.icon}"></i> <span th:text="#{form.sale.header}"></span>
							</h4>
						</div>

						<div class="modal-body">
							<form autocomplete="off" id="saleModalForm" data-parsley-validate class="form-horizontal form-label-left">
								<input type="hidden" name="productIdEncrypt" th:value="${product.productIdEncrypt}"> 
								<input type="hidden" id="sale_id_encrypt" name="saleIdEncrypt">
								<div class="col-md-ุ12 col-sm-12 col-xs-12">
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.startdate}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<div class="input-group date input_date" id="start_Datepicker">
												<input type="text" class="form-control" name="startDate" id="startDate" placeholder="dd/mm/yyyy"> <span class="input-group-addon">
													<span class="glyphicon glyphicon-calendar"></span>
												</span>
											</div>
											<label id="error_startDate" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.enddate}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<div class="input-group date input_date" id="end_Datepicker">
												<input type="text" class="form-control" name="endDate" id="endDate" placeholder="dd/mm/yyyy"> <span class="input-group-addon">
													<span class="glyphicon glyphicon-calendar"></span>
												</span>
											</div>
											<label id="error_endDate" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.currencytype}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<select id="saleCurrencyDropdown" name="currencyId" style="width: 100%">
												<option value=""></option>
												<option th:each="obj:${currencyDropdown}" th:value="${obj.currencyId}" th:text="${obj.currencyName}"></option>
											</select> <label id="error_currencyId" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.price}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<input type="text" id="price" name="price" class="form-control" style="text-align: right;" value="0.00"> <label
												id="error_price" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.measure}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<select id="saleMeasureDropdown" name="measureIdEncrypt" class="" style="width: 100%">
												<option value=""></option>
												<option th:each="obj:${measureDropdown}" th:value="${obj.measureIdEncrypt}" th:text="${obj.measureName}"></option>
											</select> <label id="error_measureIdEncrypt" class="validation-message" style="display: none;"></label>
										</div>
									</div>
								</div>

							</form>
						</div>

						<div class="clearfix"></div>
						<div class="modal-footer modal-custom-footer">
							<button id="bt_sale_delete" type="button" class="btn btn-danger" style="float: left; display: none;" onclick="openPriceMainModalDelete();">
								<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
							</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<i class="fa fa-close"></i> <span th:text="#{bt.text.close}"></span>
							</button>
							<button id="bt_sale_save" type="button" class="btn btn-success" onclick="saleSaveAction();">
								<i class="fa fa-save"></i> <span class="span_white" th:text="#{bt.text.save}"></span>
							</button>
						</div>

					</div>
				</div>
			</div>

			<div id="modal_delete_sale" class="modal fade " tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog ">
					<div class="modal-content">

						<div class="modal-header modal-delete-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">
								<i class="fa fa-trash"></i> <span th:text="#{label.delete.head.confirm}"></span>
							</h4>
						</div>
						<div class="modal-body">
							<form autocomplete="off" id="deletePriceForm" data-parsley-validate class="form-horizontal form-label-left">
								<input type="hidden" name="productIdEncrypt" th:value="${product.productIdEncrypt}"> <input type="hidden" id="delete_id_sale"
									name="saleIdEncrypt" /> <span id="modal_delete_content_sale"></span>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<i class="fa fa-close"></i> <span th:text="#{bt.text.close}"></span>
							</button>
							<button type="button" class="btn btn-danger" onclick="saleDeleteAction();">
								<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
							</button>
						</div>

					</div>
				</div>
			</div>




			<!-- Stock -->
			<div id="modal_stock" class="modal fade " tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog ">
					<div class="modal-content">

						<div class="modal-header modal-custom-header">
							<button type="button" class="close" data-dismiss="modal">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title">
								<i th:class="#{form.stock.icon}"></i> <span th:text="#{form.stock.header}"></span>
							</h4>
						</div>

						<div class="modal-body">
							<form autocomplete="off" id="stockModalForm" data-parsley-validate class="form-horizontal form-label-left">
								<input type="hidden" name="productIdEncrypt" th:value="${product.productIdEncrypt}"> <input type="hidden" id="stock_id_encrypt"
									name="stockIdEncrypt">
								<div class="col-md-ุ12 col-sm-12 col-xs-12">

									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.stock.label.warehouse}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<select id="stockWarehouseDropdown" name="warehouseIdEncrypt" style="width: 100%">
												<option value=""></option>
												<option th:each="obj:${warehouseDropdown}" th:value="${obj.warehouseIdEncrypt}" th:text="${obj.warehouseName}"></option>
											</select> <label id="error_warehouseIdEncrypt" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.stock.label.location}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<select id="stockLocationDropdown" name="locationIdEncrypt" style="width: 100%">
												<option value=""></option>
												<option th:each="obj:${locationDropdown}" th:value="${obj.locationIdEncrypt}" th:text="${obj.locationCode}"></option>
											</select> <label id="error_locationIdEncrypt" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.stock.label.remind}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<input type="text" id="remindNumber" name="remindNumber" class="form-control" style="text-align: right;" value="0.00"> <label
												id="error_remindNumber" class="validation-message" style="display: none;"></label>
										</div>
									</div>
								</div>

							</form>
						</div>
						<div class="clearfix"></div>
						<div class="modal-footer modal-custom-footer">
							<button id="bt_stock_delete" type="button" class="btn btn-danger" style="float: left; display: none;" onclick="openStockMainModalDelete();">
								<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
							</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<i class="fa fa-close"></i> <span th:text="#{bt.text.close}"></span>
							</button>
							<button id="bt_stock_save" type="button" class="btn btn-success" onclick="stockSaveAction();">
								<i class="fa fa-save"></i> <span class="span_white" th:text="#{bt.text.save}"></span>
							</button>
						</div>

					</div>
				</div>
			</div>


			<div id="modal_delete_stock" class="modal fade " tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog ">
					<div class="modal-content">

						<div class="modal-header modal-delete-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">
								<i class="fa fa-trash"></i> <span th:text="#{label.delete.head.confirm}"></span>
							</h4>
						</div>
						<div class="modal-body">
							<form autocomplete="off" id="deleteStockForm" data-parsley-validate class="form-horizontal form-label-left">
								<input type="hidden" name="productIdEncrypt" th:value="${product.productIdEncrypt}"> <input type="hidden" id="delete_id_stock"
									name="stockIdEncrypt" /> <span id="modal_delete_content_stock"></span>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<i class="fa fa-close"></i> <span th:text="#{bt.text.close}"></span>
							</button>
							<button type="button" class="btn btn-danger" onclick="stockDeleteAction();">
								<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
							</button>
						</div>

					</div>
				</div>
			</div>


			<!-- Dealer -->
			<div id="modal_dealer" class="modal fade " tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog ">
					<div class="modal-content">

						<div class="modal-header modal-custom-header">
							<button type="button" class="close" data-dismiss="modal">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title">
								<i th:class="#{form.dealer.icon}"></i> <span th:text="#{form.dealer.header}"></span>
							</h4>
						</div>

						<div class="modal-body">
							<form autocomplete="off" id="dealerModalForm" data-parsley-validate class="form-horizontal form-label-left">
								<input type="hidden" name="productIdEncrypt" th:value="${product.productIdEncrypt}"> <input type="hidden" id="dealer_id_encrypt"
									name="dealerIdEncrypt">
								<div class="col-md-ุ12 col-sm-12 col-xs-12">
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.dealer.label.supplier}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<select id="dealer_supplier_dropdown" name="supplierIdEncrypt" class="" style="width: 100%">
												<option value=""></option>
												<option th:each="obj:${supplierDropdown}" th:value="${obj.supplierIdEncrypt}" th:text="${obj.supplierCode} + ' ' + ${obj.fullname}"></option>
											</select> <label id="dealer_error_supplierIdEncrypt" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.startdate}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<div class="input-group date input_date" id="dealer_startDate_Datepicker">
												<input type="text" class="form-control" name="startDate" id="dealer_startDate" placeholder="dd/mm/yyyy"> <span
													class="input-group-addon"> <span class="glyphicon glyphicon-calendar"></span>
												</span>
											</div>
											<label id="dealer_error_startDate" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.enddate}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<div class="input-group date input_date" id="dealer_endDate_Datepicker">
												<input type="text" class="form-control" name="endDate" id="dealer_endDate" placeholder="dd/mm/yyyy"> <span
													class="input-group-addon"> <span class="glyphicon glyphicon-calendar"></span>
												</span>
											</div>
											<label id="dealer_error_endDate" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.currencytype}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<select id="dealer_currency_dropdown" name="currencyId" style="width: 100%">
												<option value=""></option>
												<option th:each="obj:${currencyDropdown}" th:value="${obj.currencyId}" th:text="${obj.currencyName}"></option>
											</select> <label id="dealer_error_currencyId" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.price}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<input type="text" id="dealer_price" name="price" class="form-control" style="text-align: right;" value="0.00"> <label
												id="dealer_error_price" class="validation-message" style="display: none;"></label>
										</div>
									</div>
									<div class="form-group">
										<div class="control-label col-md-4 col-sm-4 col-xs-12">
											<label th:text="#{form.sale.label.measure}"></label> <label class="validation-message" th:text="#{label.request}"></label>
										</div>
										<div class="col-md-8 col-sm-8 col-xs-12">
											<select id="dealer_measure_dropdown" name="measureIdEncrypt" class="" style="width: 100%">
												<option value=""></option>
												<option th:each="obj:${measureDropdown}" th:value="${obj.measureIdEncrypt}" th:text="${obj.measureName}"></option>
											</select> <label id="dealer_error_measureIdEncrypt" class="validation-message" style="display: none;"></label>
										</div>
									</div>
								</div>
							</form>
						</div>
						<div class="clearfix"></div>
						<div class="modal-footer modal-custom-footer">
							<button id="bt_dealer_delete" type="button" class="btn btn-danger" style="float: left; display: none;" onclick="openDealerMainModalDelete();">
								<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
							</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<i class="fa fa-close"></i> <span th:text="#{bt.text.close}"></span>
							</button>
							<button id="bt_dealer_save" type="button" class="btn btn-success" onclick="dealerSaveAction();">
								<i class="fa fa-save"></i> <span class="span_white" th:text="#{bt.text.save}"></span>
							</button>
						</div>

					</div>
				</div>
			</div>

			<div id="modal_delete_dealer" class="modal fade " tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog ">
					<div class="modal-content">

						<div class="modal-header modal-delete-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">
								<i class="fa fa-trash"></i> <span th:text="#{label.delete.head.confirm}"></span>
							</h4>
						</div>
						<div class="modal-body">
							<form autocomplete="off" id="deleteDealerForm" data-parsley-validate class="form-horizontal form-label-left">
								<input type="hidden" name="productIdEncrypt" th:value="${product.productIdEncrypt}"> <input type="hidden" id="delete_id_dealer"
									name="dealerIdEncrypt" /> <span id="modal_delete_content_dealer"></span>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<i class="fa fa-close"></i> <span th:text="#{bt.text.close}"></span>
							</button>
							<button type="button" class="btn btn-danger" onclick="dealerDeleteAction();">
								<i class="fa fa-trash"></i> <span class="span_white" th:text="#{bt.text.delete}"></span>
							</button>
						</div>

					</div>
				</div>
			</div>

			<!-- --------------------------- -->
			<!-- -------- End Modal -------- -->
			<!-- --------------------------- -->

			<!-- footer content -->
			<div th:replace="fragments/footer:: footer"></div>
			<!-- /footer content -->
		</div>
	</div>

	<!-- jQuery -->
	<script th:src="@{/vendors/jquery/dist/jquery.min.js}"></script>
	<!-- Bootstrap -->
	<script th:src="@{/vendors/bootstrap/dist/js/bootstrap.min.js}"></script>
	<!-- FastClick -->
	<script th:src="@{/vendors/fastclick/lib/fastclick.js}"></script>
	<!-- NProgress -->
	<script th:src="@{/vendors/nprogress/nprogress.js}"></script>
	<!-- iCheck -->
	<script th:src="@{/vendors/iCheck/icheck.min.js}"></script>
	<!-- bootstrap-date range picker -->
	<script th:src="@{/vendors/moment/min/moment.min.js}"></script>
	<script th:src="@{/vendors/moment/locale/th.js}"></script>
	<script th:src="@{/vendors/bootstrap-daterangepicker/daterangepicker.js}"></script>
	<!-- bootstrap-date time picker -->
	<script th:src="@{/vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js}"></script>
	<!-- Data tables -->
	<script th:src="@{/vendors/datatables.net/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-buttons/js/dataTables.buttons.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-buttons/js/buttons.flash.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-buttons/js/buttons.html5.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-buttons/js/buttons.print.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-responsive/js/dataTables.responsive.min.js}"></script>
	<script th:src="@{/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js}"></script>
	<script th:src="@{/vendors/datatables.net-scroller/js/dataTables.scroller.min.js}"></script>
	<script th:src="@{/vendors/jszip/dist/jszip.min.js}"></script>
	<script th:src="@{/vendors/pdfmake/build/pdfmake.min.js}"></script>
	<script th:src="@{/vendors/pdfmake/build/vfs_fonts.js}"></script>
	<!-- PNotify -->
	<script th:src="@{/vendors/pnotify/dist/pnotify.js}"></script>
	<script th:src="@{/vendors/pnotify/dist/pnotify.buttons.js}"></script>
	<script th:src="@{/vendors/pnotify/dist/pnotify.nonblock.js}"></script>
	<!-- Select2 -->
	<script th:src="@{/vendors/select2/dist/js/select2.full.min.js}"></script>
	<!-- price format -->
	<script th:src="@{/js/jquery.maskMoney.min.js}"></script>
	<!-- Custom Theme Scripts -->
	<script th:src="@{/build/js/custom.js}"></script>
	<!-- Custom Theme Scripts -->
	<script th:src="@{/js/godung.js}"></script>


	<script th:inline="javascript">
		var url_language = /*[[#{javascript.datatable.language.url}]]*/;
		var textView = /*[[#{bt.text.view}]]*/;
		var textEdit = /*[[#{bt.text.edit}]]*/;
		var textDelete = /*[[#{bt.text.delete}]]*/;
		var urlFlags = /*[[@{/images/flags/24/}]]*/;
		var stockLocationSelect = "";
		
		<!-- ----------------------------------- -->
		<!-- -------- Start Datatables  -------- -->
		<!-- ----------------------------------- -->
		$(document).ready(function() {
			var sale_url = /*[[@{/user/sale/list/ajax/}]]*/
			var productIdEncrypt = /*[[${product.productIdEncrypt}]]*/;
			var sale_url_complete = sale_url + productIdEncrypt;
			var table =  $('#sale_datatables').DataTable( {
	    			"processing": true,
	    			"ajax": sale_url_complete,
	    	        "paging":   false,
	    	        "ordering": false,
	    	        "info":     false,
	    	        "searching":	true,
	    	        "language": {"url": url_language},
	    	        "columns": [
	  	        		{ 'data': null ,'className': 'dt-body-no','searchable': false, 'orderable': false },
	  	            { 'data': 'startDateText' },
	  	          	{ 'data': 'endDateText' },
	  	        		{ 'data': 'currencyName' },
	  	        		{ 'data': 'price' },
	  	      		{ 'data': 'measureName' },
	  	            { 'data': 'saleIdEncrypt' ,'className': 'dt-body-action','searchable': false, 'orderable': false }
	  	        ],
	    	        "columnDefs": [
	    	        	   {"targets": 0,"className": "dt-body-no","searchable":false,"orderable":false},
	    	        	   {"targets": 1,"className": "content-center"},
	    	        	   {"targets": 2,"className": "content-center"},
	    	        	   {"targets": 3,"className": "content-center"},
	    	        	   {"targets": 4,"className": "content-right"},
	    	        	   {"targets": 5,"className": "content-center"},
	    	        	   {"targets": 6,"className": "dt-body-close","searchable":false,"orderable":false,
	    	        		   "render": function ( data, type, row ) {
	                		 return	 '<button type="button" class="btn btn-primary btn-xs" onclick="saleLoadAction(\''+data+'\');" ><i class="fa fa-wrench"></i></button> ' +
	                		 '<button type="button" class="btn btn-danger btn-xs" onclick="openPriceModalDelete(\''+data+'\');" ><i class="fa fa-trash"></i></button>';
			            }   
	    	        	   }
	    	        ],
	    	        "initComplete": function( settings, json ) {
            	 		//fix bug datatables use dom not responsive html
            			 $("#sale_datatables_filter").hide();
           		}
	    	    } );
	       
	    		/* SET RELOAD TOOLTIP AFTER DATATABLE */
		    	$('#sale_datatables').on( 'draw.dt', function () {
		    		$('[data-toggle="tooltip"]').tooltip();
		    	} );
        
	       /* SET INDEX COLUMN */
	        table.on( 'order.dt search.dt', function () {
	        	table.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
	                cell.innerHTML = i+1;
	            } );
	        } ).draw(); 
	
		});
		
		$(document).ready(function() {
			var stock_url = /*[[@{/user/stock/list/ajax/}]]*/
			var productIdEncrypt = /*[[${product.productIdEncrypt}]]*/;
			var stock_url_complete = stock_url + productIdEncrypt;
			var table =  $('#stock_datatables').DataTable( {
	    			"processing": true,
	    			"ajax": stock_url_complete,
	    	        "paging":   false,
	    	        "ordering": false,
	    	        "info":     false,
	    	        "searching":	true,
	    	        "language": {"url": url_language},
	    	        "columns": [
	  	        		{ 'data': null ,'className': 'dt-body-no','searchable': false, 'orderable': false },
	  	            { 'data': 'warehouseName' },
	  	          	{ 'data': 'locationCode' },
	  	        		{ 'data': 'remindNumber' },
	  	        		{ 'data': 'remainNumber' },
	  	            { 'data': 'stockIdEncrypt' ,'className': 'dt-body-action','searchable': false, 'orderable': false }
	  	        ],
	    	        "columnDefs": [
	    	        	   {"targets": 0,"className": "dt-body-no","searchable":false,"orderable":false},
	    	        	   {"targets": 1,"className": "content-center"},
	    	        	   {"targets": 2,"className": "content-center"},
	    	        	   {"targets": 3,"className": "content-right"},
	    	        	   {"targets": 4,"className": "content-right"},
	    	        	   {"targets": 5,"className": "dt-body-close","searchable":false,"orderable":false,
	    	        		   "render": function ( data, type, row ) {
	                		 return	 '<button type="button" class="btn btn-primary btn-xs" onclick="stockLoadAction(\''+data+'\');" ><i class="fa fa-wrench"></i></button> ' +
	                		 '<button type="button" class="btn btn-danger btn-xs" onclick="openStockModalDelete(\''+data+'\');" ><i class="fa fa-trash"></i></button>';
			            }   
	    	        	   }
	    	        ],
	    	        "initComplete": function( settings, json ) {
            	 		//fix bug datatables use dom not responsive html
            			 $("#stock_datatables_filter").hide();
           		}
	    	    } );
	       
	    		/* SET RELOAD TOOLTIP AFTER DATATABLE */
		    	$('#stock_datatables').on( 'draw.dt', function () {
		    		$('[data-toggle="tooltip"]').tooltip();
		    	} );
        
	       /* SET INDEX COLUMN */
	        table.on( 'order.dt search.dt', function () {
	        	table.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
	                cell.innerHTML = i+1;
	            } );
	        } ).draw(); 
		});
		
		$(document).ready(function() {
			var dealer_url = /*[[@{/user/dealer/list/ajax/}]]*/
			var productIdEncrypt = /*[[${product.productIdEncrypt}]]*/;
			var dealer_url_complete = dealer_url + productIdEncrypt;
			var table =  $('#dealer_datatables').DataTable( {
	    			"processing": true,
	    			"ajax": dealer_url_complete,
	    	        "paging":   false,
	    	        "ordering": false,
	    	        "info":     false,
	    	        "searching":	true,
	    	        "language": {"url": url_language},
	    	        "columns": [
	  	        		{ 'data': null ,'className': 'dt-body-no','searchable': false, 'orderable': false },
	  	            { 'data': 'supplierName' },
	  	          	{ 'data': 'startDate' },
	  	        		{ 'data': 'endDate' },
	  	        		{ 'data': 'currencyName' },
	  	        		{ 'data': 'price' },
	  	        		{ 'data': 'measureName' },
	  	            { 'data': 'dealerIdEncrypt' ,'className': 'dt-body-action','searchable': false, 'orderable': false }
	  	        ],
	    	        "columnDefs": [
	    	        	   {"targets": 0,"className": "dt-body-no","searchable":false,"orderable":false},
	    	        	   {"targets": 1,"className": "content-left"},
	    	        	   {"targets": 2,"className": "content-center"},
	    	        	   {"targets": 3,"className": "content-center"},
	    	        	   {"targets": 4,"className": "content-center"},
	    	        	   {"targets": 5,"className": "content-right"},
	    	        	   {"targets": 6,"className": "content-center"},
	    	        	   {"targets": 7,"className": "dt-body-close","searchable":false,"orderable":false,
	    	        		   "render": function ( data, type, row ) {
	                		 return	 '<button type="button" class="btn btn-primary btn-xs" onclick="dealerLoadAction(\''+data+'\');" ><i class="fa fa-wrench"></i></button> ' +
	                		 '<button type="button" class="btn btn-danger btn-xs" onclick="openDealerModalDelete(\''+data+'\');" ><i class="fa fa-trash"></i></button>';
			            }   
	    	        	   }
	    	        ],
	    	        "initComplete": function( settings, json ) {
            	 		//fix bug datatables use dom not responsive html
            			 $("#dealer_datatables_filter").hide();
           		}
	    	    } );
	       
	    		/* SET RELOAD TOOLTIP AFTER DATATABLE */
		    	$('#dealer_datatables').on( 'draw.dt', function () {
		    		$('[data-toggle="tooltip"]').tooltip();
		    	} );
        
	       /* SET INDEX COLUMN */
	        table.on( 'order.dt search.dt', function () {
	        	table.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
	                cell.innerHTML = i+1;
	            } );
	        } ).draw(); 
		});


		<!-- -------------------------------- -->
		<!-- -------- Start Select2  -------- -->
		<!-- -------------------------------- -->
		$(function(){
			var selectText = /*[[#{dropdown.text.select}]]*/;
	      	$('#measureDropdown').select2({
	    	  		placeholder: selectText
	     	 });
	      	
	      	$('#brandDropdown').select2({
	    	  		placeholder: selectText
	     	 });
	      	
	      	$('#categoryDropdown').select2({
	    	  		placeholder: selectText
	     	 });
	      	
	      	$('#saleCurrencyDropdown').select2({
	      		placeholder: selectText,
	      		dropdownParent: $('#modal_sale')
	      	});
	      	
	      	$('#saleMeasureDropdown').select2({
	      		placeholder: selectText,
	      		dropdownParent: $('#modal_sale')
	      	});
	      	
	      	$('#stockWarehouseDropdown').select2({
	      		placeholder: selectText,
	      		dropdownParent: $('#modal_stock')
	      	}).on("change", function (e) {
	      		if(this.value != ""){
		      		var locationList = /*[[@{/user/warehouse/location/list/ajax/}]]*/;
		      		var url_location =  locationList + this.value;
		        	   reloadLocationSelect2(url_location);
		      	}
	      	});
	      	
	    		$('#stockLocationDropdown').select2({
	      		placeholder: selectText,
	      		dropdownParent: $('#modal_stock')
	      	});
	    		
	    		$('#dealer_measure_dropdown').select2({
	      		placeholder: selectText,
	      		dropdownParent: $('#modal_dealer')
	      	});
	    		
	    		$('#dealer_supplier_dropdown').select2({
	      		placeholder: selectText,
	      		dropdownParent: $('#modal_dealer')
	      	});

	      	$('#dealer_currency_dropdown').select2({
	      		placeholder: selectText,
	      		dropdownParent: $('#modal_dealer')
	      	});
	      	 
	    }); 
	
		
		<!-- -------------------------------- -->
		<!-- -------- Start Price  -------- -->
		<!-- -------------------------------- -->
		$("#price").maskMoney();
		$("#remindNumber").maskMoney();
		$("#dealer_price").maskMoney();
		
		
		<!-- -------------------------------- -->
		<!-- -------- Start Modal  ---------- -->
		<!-- -------------------------------- -->

		// sale
		function openPriceModal(){
			resetPriceModal();
			resetValidationError();
			$('#modal_sale').modal('show');
		}
		
		function closePriceModal(){
			resetPriceModal();
			resetValidationError();
			$('#modal_sale').modal('hide');
		}
		
		function resetPriceModal(){
			var measureData = $('#measureDropdown').select2('data');
			$("#sale_id_encrypt").val("");
			$("#startDate").val("");
			$("#endDate").val("");
			$("#price").val("0.00");
			$("#saleCurrencyDropdown").val("1").trigger('change');
			$("#saleMeasureDropdown").val(measureData[0].id).trigger('change');
		}
		
		function setPriceModal(saleIdEncrypt,startDateText,endDateText,price,currencyId,measureIdEncrypt){
			$("#sale_id_encrypt").val(saleIdEncrypt);
			$("#startDate").val(startDateText);
			$("#endDate").val(endDateText);
			$("#price").val(price);
			$("#saleCurrencyDropdown").val(currencyId).trigger('change');
			$("#saleMeasureDropdown").val(measureIdEncrypt).trigger('change');
		}
		
		function openPriceMainModalDelete(){
			var saleIdEncrypt = $("#sale_id_encrypt").val();
			openPriceModalDelete(saleIdEncrypt);
		}
		
		function openPriceModalDelete(idEncrypt){
	    		var messageMain = /*[[#{label.delete.content.confirm}]]*/;
	    		$("#delete_id_sale").val(idEncrypt);
	    		$("#modal_delete_content_sale").html(messageMain);
	    		$('#modal_delete_sale').modal('show');
	    }
	
		// Stock
		function openStockModal(){
			resetStockModal();
			resetValidationError();
			$('#modal_stock').modal('show');
		}
		
		function closeStockModal(){
			resetStockModal();
			resetValidationError();
			$('#modal_stock').modal('hide');
		}
		function resetStockModal(){
			$("#stock_id_encrypt").val("");
			$("#stockWarehouseDropdown").val("").trigger('change');
			$("#stockLocationDropdown").empty();
			$("#remindNumber").val("0.00");
		}
		
		function setStockModal(stockIdEncrypt,warehouseIdEncrypt,locationIdEncrypt,remindNumber){
			stockLocationSelect = locationIdEncrypt;
			$("#stock_id_encrypt").val(stockIdEncrypt);
			$("#stockWarehouseDropdown").val(warehouseIdEncrypt).trigger('change');
			$("#remindNumber").val(remindNumber);
		}
		
		
		function openStockMainModalDelete(){
			var stockIdEncrypt = $("#stock_id_encrypt").val();
			openStockModalDelete(stockIdEncrypt);
		}
		
		function openStockModalDelete(idEncrypt){
	    		var messageMain = /*[[#{label.delete.content.confirm}]]*/;
	    		$("#delete_id_stock").val(idEncrypt);
	    		$("#modal_delete_content_stock").html(messageMain);
	    		$('#modal_delete_stock').modal('show');
	    }
		
		// ---------------------------------------------------------------
		// --  DEALER
		// ---------------------------------------------------------------
		function openDealerModal(){
			resetDealerModal();
			resetValidationErrorWithPrefix("dealer_error_");
			$('#modal_dealer').modal('show');
		}
		
		function closeDealerModal(){
			resetDealerModal();
			resetValidationErrorWithPrefix("dealer_error_");
			$('#modal_dealer').modal('hide');
		}
		function resetDealerModal(){
			var measureData = $('#measureDropdown').select2('data');
			$("#dealer_id_encrypt").val("");
			$("#dealer_startDate").val("");
			$("#dealer_endDate").val("");
			$("#dealer_supplier_dropdown").val("").trigger('change');
			$("#dealer_currency_dropdown").val("1").trigger('change');
			$("#dealer_measure_dropdown").val(measureData[0].id).trigger('change');
			$("#dealer_price").val("0.00");
		}
		
		function setDealerModal(dealerIdEncrypt,startDate,endDate,supplierIdEncrypt,measureIdEncrypt,price,currencyId){
			$("#dealer_id_encrypt").val(dealerIdEncrypt);
			$("#dealer_startDate").val(startDate);
			$("#dealer_endDate").val(endDate);
			$("#dealer_supplier_dropdown").val(supplierIdEncrypt).trigger('change');
			$("#dealer_currency_dropdown").val(currencyId).trigger('change');
			$("#dealer_measure_dropdown").val(measureIdEncrypt).trigger('change');
			$("#dealer_price").val(price);
		}
		
		
		function openDealerMainModalDelete(){
			var dealerIdEncrypt = $("#dealer_id_encrypt").val();
			openDealerModalDelete(dealerIdEncrypt);
		}
		
		function openDealerModalDelete(idEncrypt){
	    		var messageMain = /*[[#{label.delete.content.confirm}]]*/;
	    		$("#delete_id_dealer").val(idEncrypt);
	    		$("#modal_delete_content_dealer").html(messageMain);
	    		$('#modal_delete_dealer').modal('show');
	    }
		
		
		// Main
		function openModalMainDelete(){
			var messageMain = /*[[#{label.delete.content.confirm}]]*/;
			var id = $("#productIdEncrypt").val();
			var code = $("#productCode").val();
			var name = $("#productName").val();
			var message = code + " " + name;
			
			$("#delete_id").val(id);
    			$("#modal_delete_content").html(messageMain + " : " + message);
    			$('#modal_delete').modal('show');
		}
		<!-- -------------------------------- -->
		<!-- ---------- End Modal  ---------- -->
		<!-- -------------------------------- -->
		
		<!-- -------------------------------- -->
		<!-- ----- Select Price Action ------ -->
		<!-- -------------------------------- -->
		
		function openPriceNewModal(){
		 	resetPriceModal();
	    		var urlAction = /*[[@{/user/sale/load/new}]]*/;
    		    $.ajax({
    		        type: "GET",
    		        url: urlAction,
    		        dataType: 'json',
    		        success: function(response){
    		            if(response.status == "SUCCESS"){
    		            		$("#bt_sale_delete").hide();
    		            		$('#modal_sale').modal('show');
    		             }else{
    		            		openNotification(response.result.type,response.result.title,response.result.text);
    		             }
    		         },
    		         error: function(e){
    		             openNotification("error","error",e);
    		         }
    		    });
	    }
		
		 function saleLoadAction(idEncrypt) {
			 	resetPriceModal();
		 	   	var urlAction = /*[[@{/user/sale/load}]]*/;
			    $.ajax({
			        type: "GET",
			        url: urlAction,
			        dataType: 'json',
			        data: {"saleIdEncrypt": idEncrypt},
			        success: function(response){
			            if(response.status == "SUCCESS"){
			            	
				        	   var saleIdEncrypt = response.result.saleIdEncrypt;
				        	   var startDateText = response.result.startDateText;
				        	   var endDateText = response.result.endDateText;
				        	   var price = response.result.price;
				        	   var currencyId = response.result.currencyId;
				        	   var measureIdEncrypt = response.result.measureIdEncrypt;
				        	   
				        	   setPriceModal(saleIdEncrypt,startDateText,endDateText,price,currencyId,measureIdEncrypt);
				        	   $("#bt_sale_delete").show();
				        	   $('#modal_sale').modal('show');
			             }else{
			            		openNotification(response.result.type,response.result.title,response.result.text);
			             }
			         },
			         error: function(e){
			             openNotification("error","error",e);
			         }
			    });
			}
		
	  	function saleSaveAction() {
	  		resetValidationError();
	 	   	var urlAction = /*[[@{/user/sale/save}]]*/;
		    $.ajax({
		        type: "POST",
		        url: urlAction,
		        dataType: 'json',
		        data: $("#saleModalForm").serialize(),
		        success: function(response){
		            if(response.status == "SUCCESS"){
		               	openNotification(response.result.type,response.result.title,response.result.text);
		               	closePriceModal();
		              	var table =  $('#sale_datatables').DataTable();
		                table.ajax.reload(); 
		             }else{
		            	 	validationErrorShow(response.result);
		             }
		         },
		         error: function(e){
		             openNotification("error","error",e);
		         }
		    });
		}
	  	
	    function saleDeleteAction() {
	 	   	var urlAction = /*[[@{/user/sale/delete}]]*/;
		    $.ajax({
		        type: "POST",
		        url: urlAction,
		        dataType: 'json',
		        data: $("#deletePriceForm").serialize(),
		        success: function(response){
		            if(response.status == "SUCCESS"){
		               	openNotification(response.result.type,response.result.title,response.result.text);
		               	$('#modal_delete_sale').modal('hide');
		               	closePriceModal();
		              	var table =  $('#sale_datatables').DataTable();
		                 table.ajax.reload();
		             }else{
		            		openNotification(response.result.type,response.result.title,response.result.text);
		             }
		         },
		         error: function(e){
		             openNotification("error","error",e);
		         }
		    });
		}
	    
	    <!-- ------------------------------------ -->
		<!-- ----- Select Stock Action ------ -->
		<!-- ------------------------------------ -->
		function openStockNewModal(){
		 	resetStockModal();
	    		var urlAction = /*[[@{/user/stock/load/new}]]*/;
    		    $.ajax({
    		        type: "GET",
    		        url: urlAction,
    		        dataType: 'json',
    		        success: function(response){
    		            if(response.status == "SUCCESS"){
    		            		$("#bt_stock_delete").hide();
    		            		$('#modal_stock').modal('show');
    		             }else{
    		            		openNotification(response.result.type,response.result.title,response.result.text);
    		             }
    		         },
    		         error: function(e){
    		             openNotification("error","error",e);
    		         }
    		    });
	    }
		
		 function stockLoadAction(idEncrypt) {
			 	resetStockModal();
		 	   	var urlAction = /*[[@{/user/stock/load}]]*/;
			    $.ajax({
			        type: "GET",
			        url: urlAction,
			        dataType: 'json',
			        data: {"stockIdEncrypt": idEncrypt},
			        success: function(response){
			            if(response.status == "SUCCESS"){
			            	
				        	   var stockIdEncrypt = response.result.stockIdEncrypt;
				        	   var warehouseIdEncrypt = response.result.warehouseIdEncrypt;
				        	   var locationIdEncrypt = response.result.locationIdEncrypt;
				        	   var remindNumber = response.result.remindNumber;
				        	   
				   		   setStockModal(stockIdEncrypt,warehouseIdEncrypt,locationIdEncrypt,remindNumber);
				        	   $("#bt_stock_delete").show();
				        	   $('#modal_stock').modal('show');
			             }else{
			            		openNotification(response.result.type,response.result.title,response.result.text);
			             }
			         },
			         error: function(e){
			             openNotification("error","error",e);
			         }
			    });
			}
		
		function stockSaveAction() {
	  		resetValidationError();
	 	   	var urlAction = /*[[@{/user/stock/save}]]*/;
		    $.ajax({
		        type: "POST",
		        url: urlAction,
		        dataType: 'json',
		        data: $("#stockModalForm").serialize(),
		        success: function(response){
		            if(response.status == "SUCCESS"){
		               	openNotification(response.result.type,response.result.title,response.result.text);
		               	closeStockModal();
		              	var table =  $('#stock_datatables').DataTable();
		                table.ajax.reload(); 
		             }else{
		            	 	validationErrorShow(response.result);
		             }
		         },
		         error: function(e){
		             openNotification("error","error",e);
		         }
		    });
		}
		
		  function stockDeleteAction() {
		 	   	var urlAction = /*[[@{/user/stock/delete}]]*/;
			    $.ajax({
			        type: "POST",
			        url: urlAction,
			        dataType: 'json',
			        data: $("#deleteStockForm").serialize(),
			        success: function(response){
			            if(response.status == "SUCCESS"){
			               	openNotification(response.result.type,response.result.title,response.result.text);
			               	$('#modal_delete_stock').modal('hide');
			               	closeStockModal();
			              	var table =  $('#stock_datatables').DataTable();
			                 table.ajax.reload();
			             }else{
			            		openNotification(response.result.type,response.result.title,response.result.text);
			             }
			         },
			         error: function(e){
			             openNotification("error","error",e);
			         }
			    });
			}
		
		
		function reloadLocationSelect2(url_location){
    		    $.ajax({
    		        type: "GET",
    		        url: url_location,
    		        dataType: 'json',
    		        success: function(response){
   		            	generateLocationSelect(response.aaData);
    		         },
    		         error: function(e){
    		             openNotification("error","error",e);
    		         }
    		    });
	    }
		
		
	  function generateLocationSelect(obj){
		  	var selectText = /*[[#{dropdown.text.select}]]*/;
			$("#stockLocationDropdown").empty();
			$('#stockLocationDropdown').append('<option value=" ">'+selectText+'</option>');
            $(obj).each(function(i, item){
        	   		$('#stockLocationDropdown').append('<option value="'+item.locationIdEncrypt+'" >'+item.locationCode+'</option>');
             });
            $("#stockLocationDropdown").val(stockLocationSelect).trigger('change');
            stockLocationSelect = "";
	    	}
        
	  	<!-- ------------------------------------ -->
		<!-- ----- Select Dealer Action ------ -->
		<!-- ------------------------------------ -->
		function openDealerNewModal(){
		 	resetDealerModal();
	    		var urlAction = /*[[@{/user/dealer/load/new}]]*/;
  		    $.ajax({
  		        type: "GET",
  		        url: urlAction,
  		        dataType: 'json',
  		        success: function(response){
  		            if(response.status == "SUCCESS"){
  		            		$("#bt_dealer_delete").hide();
  		            		//$('#modal_dealer').modal('show');
  		            		openDealerModal();
  		             }else{
  		            		openNotification(response.result.type,response.result.title,response.result.text);
  		             }
  		         },
  		         error: function(e){
  		             openNotification("error","error",e);
  		         }
  		    });
	    }
		
		 function dealerLoadAction(idEncrypt) {
			 	resetDealerModal();
		 	   	var urlAction = /*[[@{/user/dealer/load}]]*/;
			    $.ajax({
			        type: "GET",
			        url: urlAction,
			        dataType: 'json',
			        data: {"dealerIdEncrypt": idEncrypt},
			        success: function(response){
			            if(response.status == "SUCCESS"){
			            	
				        	   var dealerIdEncrypt = response.result.dealerIdEncrypt;
				        	   var startDate = response.result.startDate;
				        	   var endDate = response.result.endDate;
				        	   var supplierIdEncrypt = response.result.supplierIdEncrypt;
				        	   var measureIdEncrypt = response.result.measureIdEncrypt;
				        	   var price = response.result.price;
				        	   var currencyId = response.result.currencyId;
				        	   
				        	   setDealerModal(dealerIdEncrypt,startDate,endDate,supplierIdEncrypt,measureIdEncrypt,price,currencyId);
				        	   $("#bt_dealer_delete").show();
				        	   $('#modal_dealer').modal('show');
			             }else{
			            		openNotification(response.result.type,response.result.title,response.result.text);
			             }
			         },
			         error: function(e){
			             openNotification("error","error",e);
			         }
			    });
			}
		
		function dealerSaveAction() {
	  		resetValidationErrorWithPrefix("dealer_error_");
	 	   	var urlAction = /*[[@{/user/dealer/save}]]*/;
		    $.ajax({
		        type: "POST",
		        url: urlAction,
		        dataType: 'json',
		        data: $("#dealerModalForm").serialize(),
		        success: function(response){
		            if(response.status == "SUCCESS"){
		               	openNotification(response.result.type,response.result.title,response.result.text);
		               	closeDealerModal();
		              	var table =  $('#dealer_datatables').DataTable();
		                table.ajax.reload(); 
		             }else{
		            	 	validationErrorShowWithPrefix("dealer_error_",response.result);
		             }
		         },
		         error: function(e){
		             openNotification("error","error",e);
		         }
		    });
		}
		
		  function dealerDeleteAction() {
		 	   	var urlAction = /*[[@{/user/dealer/delete}]]*/;
			    $.ajax({
			        type: "POST",
			        url: urlAction,
			        dataType: 'json',
			        data: $("#deleteDealerForm").serialize(),
			        success: function(response){
			            if(response.status == "SUCCESS"){
			               	openNotification(response.result.type,response.result.title,response.result.text);
			               	$('#modal_delete_dealer').modal('hide');
			               	closeDealerModal();
			              	var table =  $('#dealer_datatables').DataTable();
			                 table.ajax.reload();
			             }else{
			            		openNotification(response.result.type,response.result.title,response.result.text);
			             }
			         },
			         error: function(e){
			             openNotification("error","error",e);
			         }
			    });
			}
		  
        <!-- -------------------------------- -->
		<!-- -------- Start Date  -------- -->
		<!-- -------------------------------- -->
        $(function () { 
        		var localeUser = /*[[${session.user.language}]]*/;
            $('#start_Datepicker').datetimepicker({
            		format: 'DD/MM/YYYY',
            		locale: localeUser
            });
            $('#end_Datepicker').datetimepicker({
	        		format: 'DD/MM/YYYY',
            		locale: localeUser
	        });
            $('#dealer_startDate_Datepicker').datetimepicker({
	        		format: 'DD/MM/YYYY',
	        		locale: localeUser
	        });
	            $('#dealer_endDate_Datepicker').datetimepicker({
	        		format: 'DD/MM/YYYY',
	        		locale: localeUser
	        });
        });
        
		<!-- -------------------------------- -->
		<!-- -------- Start Action  -------- -->
		<!-- -------------------------------- -->
		
		var pnotify = /*[[${pnotify}]]*/;
		if(pnotify != null){
			openNotification(pnotify.type,pnotify.title,pnotify.text);
		}
		
		// check active menu
	    $(document).ready(function() {
			var CURRENT_URL = /*[[@{${menu.action}}]]*/;
			$('#sidebar-menu').find('a[href="' + CURRENT_URL + '"]').parent('li').parent('ul').parent('li').children('a').trigger("click");
	    });
		
	  
	</script>


</body>
</html>
